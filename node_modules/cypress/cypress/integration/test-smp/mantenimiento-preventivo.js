beforeEach(function() {
    cy.visit('https://test-smp.herokuapp.com/');
    cy.get('#username').type('admin');
    cy.get('#password').type('12345');
    cy.get('.fourth').click();
    cy.visit('https://test-smp.herokuapp.com/mantenimiento/inicio_mantenimiento');
});
describe('Gestión de mantenimientos', function() {

    it('Registrar mantenimiento', () => {
        cy.get('[style="margin-top: 3%; margin-bottom: 3%;"] > .btn').click();
        cy.get('#example_filter > label > .form-control').type('LBA7654');
        cy.get('.btn.btn-primary').click();
        cy.get('.display-4').contains('Ficha Vehícular');
        cy.get('.col-lg-4 > :nth-child(2) > .btn').click();

        //Abrir popup
        cy.get('#btn-abrir-popup').click();
        cy.get('#example_filter > label > .form-control').type('1104785475');
        cy.get('.sorting_1').click();
        cy.get('#btn-cerrar-popup').click();

        //Editar km y agregar observación
        cy.get('#btn-abrir-popup1').click();
        cy.get('#kmactual').clear().type('35000');
        cy.get('#btn-cerrar-popup1').click();
        cy.get('#observacion').type('Observación del mantenimiento preventivo');

        //Repuestos
        cy.get('#buscar_repuesto').type('ACEITE DE MOTOR 1,5 GLN');
        cy.get('.ui-menu.ui-widget.ui-widget-content.ui-autocomplete.ui-front').click();
        cy.get('.col-lg-4 > .btn').click(); //Error al guardar
    });

    it('Listar mantenimientos', () => {
        cy.get('[style="margin-top: 2%; margin-bottom: 3%;"] > .btn').click();
    });
})

after(function() {
    cy.log('Terminando de probar mantenimiento preventivo');
})