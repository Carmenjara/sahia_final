beforeEach(function() {
    cy.visit('https://test-smp.herokuapp.com/');
    cy.get('#username').type('admin');
    cy.get('#password').type('12345');
    cy.get('.fourth').click();
    cy.visit('https://test-smp.herokuapp.com/descentralizacion/inicio_descentralizacion');
    cy.get(':nth-child(1) > :nth-child(4) > .btn').click();
});

describe('Gestión de Circuitos', function() {

    it('Registrar circuito', () => {
        cy.get('[style="margin-top: 3%; margin-bottom: 3%;"] > .btn').click();
        cy.get('#codigo').type('11D01C001');
        cy.get('#nombre').type('Catamayo Test');
        cy.get('#comboboxDistrito').select('LOJA');
        cy.get('.col-lg-4 > .btn', { timeout: 70000 }).click();
    });

    it('Listar y editar circuitos', () => {
        cy.get('.col-lg-8 > :nth-child(2) > .btn', { timeout: 70000 }).contains('Listar Circuitos').click();
        cy.get('#example_filter > label > .form-control').type('11D01C001');
        cy.get(':nth-child(1) > [style="text-align: center"] > .btn-success').click();
        cy.get('#nombre').clear().type('Catamayo Test Update');
        cy.get('.col-lg-4 > .btn').click();
    });

    it('Eliminar circuito', () => {
        cy.get('.col-lg-8 > :nth-child(2) > .btn').contains('Listar Circuitos').click();
        cy.get('#example_filter > label > .form-control').type('11D01C001');
        cy.get(':nth-child(1) > [style="text-align: center"] > .btn-danger').click();
    });

    it('Crear, listar y editar vinculación Circuito - Parroquia', () => {
        cy.visit('https://test-smp.herokuapp.com/descentralizacion/listar_circuito');
        cy.get('#example_filter > label > .form-control').type('11D01C05');
        //Crear
        cy.get('.btn-primary').click();
        cy.get('#comboboxParroquiaVin').select('Pioter');
        cy.get('#submitP').click();
    });
});

after(function() {
    cy.log('Terminando de probar circuitos');
});